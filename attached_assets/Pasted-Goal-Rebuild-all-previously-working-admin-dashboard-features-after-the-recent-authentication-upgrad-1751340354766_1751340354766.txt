Goal: Rebuild all previously working admin dashboard features after the recent authentication upgrade. All views and logic must remain behind authenticated admin access. Use React (w/ Vite + Tailwind) on frontend, Express + Drizzle + PostgreSQL backend. Admin panel should follow existing layout and UX theme.
ğŸ§© Tabs & Features to Implement (with specifics):

1. Bookings Tab
ğŸ”§ Edit Bookings: Add ability to update time, date, athlete, lesson type, and status. Form validation required.
ğŸ” Filter Options:
By most recent, oldest
By session date (ascending/descending)
â• Manual Booking Modal:
Reuse frontend logic from parent booking modal
Include focus area selection logic and validation
ğŸ•“ Quick Reschedule Button:
Popup modal with calendar
On confirm â†’ updates DB and auto-triggers email/SMS to parent (based on stored preference)
2. Upcoming Sessions Tab
ğŸ—“ï¸ Show all upcoming sessions, default sorted by date
ğŸ”” Add a "Todayâ€™s Sessions" sub-section that dynamically shows sessions for current day at top
ğŸ“ Sorting: Default to ascending; allow user to change to descending
3. Athletes Tab
ğŸ‚ Highlight athletes with birthdays within 7 days
ğŸ“ Athlete Detail View:
Editable: name, age, focus areas, parent contact
Upload photo (JPG/PNG) â†’ preview thumbnail with enlarge modal
PDF/IMG upload for waiver & medical docs (with icons + delete button + confirm modal)
âŒ Delete Athlete:
Only if no bookings exist
Confirm modal required
If booking exists â†’ show reason + disable delete
4. Content Tab (Blog + Tips Subtabs)
â• Add / Edit / Delete Blog or Tip posts
ğŸ“„ Posts support multiple rich text sections
Each section allows optional image (PNG, JPG)
Store text and images together in a structured JSON format
ğŸ·ï¸ Tips > includes â€œDrillsâ€ category
5. Schedule Tab
ğŸ“† Weekly availability selector (Sundayâ€“Saturday with hourly blocks)
â›” Block off specific time slots or entire days
Backend stores as availability matrix
Booking form should read from this and gray out unavailable times
6. Parent Communication Tab (Optional MVP)
ğŸ“© DM Inbox-style interface
One thread per parent
Messages stored tied to bookings
âœï¸ Reply templates (dropdown options): reschedule, policy reminder, thank-you
ğŸ§­ Toggle between SMS/Email based on parentâ€™s preferred contact
7. Payments / Stripe Tab
ğŸ’³ Pull and display session-based Stripe payment status:
Paid, pending, refunded
ğŸ’° Add manual refund logic (triggers Stripe API)
ğŸ§¾ View historical payment logs and link to Stripe dashboard
8. Analytics Tab
ğŸ“Š Show:
Total bookings (week/month)
Top requested skills
Conversion rate: inquiry â†’ confirmed + paid
ğŸ¨ Visuals:
Bar chart (weekly bookings), Pie chart (skills), Counters
Use Chart.js or Tailwind UI chart library
ğŸ”Œ Backend:
Write SQL queries with Drizzle to fetch needed data
ğŸ§± Tech Stack (Assume)

Frontend: React (Vite), TailwindCSS, Chart.js
Backend: Express.js, PostgreSQL, Drizzle ORM
Auth: Session-based w/ bcrypt, cookie (HttpOnly)
Stripe: Integrated via backend using secret key
File Storage: Local or Supabase bucket
ğŸ” Security

Protect all /admin routes w/ session check middleware
Sanitize all inputs (frontend + backend)
Validate file uploads (type + size)
ğŸ§  User Flow Summary

Admin logs in â†’ session set â†’ accesses dashboard.
Navigates tabs, manages bookings, uploads docs, views payments, edits athlete profiles.
All UI is responsive and accessible on mobile/tablet.
Errors or edge cases (invalid data, unauthorized deletes, failed Stripe requests) return clear error messages with fallback UI.